# 골프 캐디 서비스 - 프로젝트 규칙 (GEMINI.md)

## 1. 프로젝트 목표: "캐디 매니저 프로 (Caddy Manager Pro)"
골프 캐디를 위한 독립형, 프라이버시 중심 모바일 비서입니다.
- **가치 제안**: "서버비 0원, 프라이버시 100%".
- **핵심 판매 포인트**: 모든 데이터는 오직 사용자의 **폰(로컬 스토리지)**에만 저장됩니다. 서버가 없으므로 세금 추적 걱정이 없습니다.
- **비즈니스 모델**: 1회 라이선스 구매 (120,000원) + 유료 데이터 복구 서비스.

## 2. 핵심 원칙
### 프라이버시 우선 및 데이터 무결성 (No Server, Single Origin)
- 모든 데이터(일정, 고객, 수입)는 브라우저의 **Local Storage**에 저장해야 합니다.
- 외부 데이터베이스 연결(Supabase 등)은 사용자 데이터를 위해 절대 사용하지 않습니다.
- **데이터 무결성**: 브라우저 보안 정책상 주소(포트)가 바뀌면 데이터가 분리됩니다. 따라서 개발 및 실행 시 **무조건 3000번 포트**를 사용하도록 강제합니다. (데이터 손실 및 혼선 절대 방지)
- **보안**: "내 폰이 곧 내 금고입니다."

### 확실한 백업 (Fail-Safe)
- **JSON 내보내기/가져오기**: 데이터를 이동하는 유일한 방법은 수동 백업뿐입니다.
- 이 기능은 "유료 데이터 복구 서비스"의 기반이 됩니다.
- 눈에 잘 띄는 곳에 배치해야 합니다.

### 속도 및 한 손 조작 (Mobile Only)
- **무조건 스마트폰 실행**: 태블릿이나 PC 환경은 고려하지 않습니다. 오직 스마트폰 세로 모드에 최적화합니다.
- 캐디는 바쁜 환경에서 일합니다. UI는 엄지손가락 하나로 클릭할 수 있어야 합니다.
- **큰 버튼**: 이동 중에도 쉽게 누를 수 있어야 합니다.
- **시각적 신호**: "진상 고객"은 빨간 테두리, "VIP"는 파란 테두리로 표시합니다.

### 🇰🇷 언어 규칙
- 모든 MD 파일(기획서, 할 일 목록 등)은 반드시 **한국어**로 작성합니다.
- 코드 주석도 한국어로 작성합니다.

## 2.5 긴급 복구 도구 (One-Click)
사용자가 포트 문제로 당황하지 않도록 바탕화면 또는 폴더에 실행 파일을 제공합니다.
- **`run-app.bat`**: 3000번 포트로 강제 초기화 및 실행 (에러 해결용).
- **`open-3001.bat`**: 데이터 이사를 위해 잠시 3001번을 열어야 할 때 사용.

## 3. 기술 스택
- **프레임워크**: Next.js (App Router) - 정적 내보내기(PWA) 구성.
- **스타일링**: Tailwind CSS (모바일 우선).
- **상태 관리**: React Context 또는 Zustand (LocalStorage에 저장).
- **아이콘**: FontAwesome (프로토타입 참고) 또는 Lucide React.
- **차트**: Chart.js (수입 분석용).

## 4. 기능 로드맵
### 1단계: 핵심 필수 기능 (PWA)
1.  **대시보드**: 월간 순수익 요약 + 빠른 실행 버튼.
2.  **일정**: 근무 vs 개인 일정 토글.
3.  **고객 DB**: 검색 가능한 목록 (진상/VIP 태그).
4.  **가계부**: 수입(캐디피+팁) - 지출.
5.  **설정**: JSON 백업/복구.

### 7. 버전 관리 및 복구 전략 (Time Machine - 타임머신)

> [!TIP]
> 코드가 꼬이면 언제든 "00시 00분 시점"으로 완벽하게 돌아갈 수 있습니다.

### 🛡️ 세이프 롤백 시스템 (Safe Rollback System)
1.  **체크포인트(Commit) 명시**: 작업을 시작하거나 주요 기능이 완성되면 반드시 `Save Point: [날짜] [시간] [기능명]` 형식으로 저장합니다.
2.  **타임머신 복구**: 대표님이 "방금 전 말고 2시 시점으로 돌려줘"라고 하시면, 해당 시점의 기록을 찾아 코드를 완전히 복구합니다.
3.  **기록 보관**: 모든 변경 사항은 `git log`를 통해 관리되며, 대표님이 언제든 원하시는 지점을 선택하실 수 있습니다.

### 에이전트 행동 강령
- "롤백할까요?"라고 묻기 전에, **이미 안전한 지점이 확보되어 있는지** 확인한다.
- 롤백 시에는 **실패한 코드 조각을 남기지 않고** 깨끗하게 지운다.

## 5. 디자인 가이드
- **팔레트**: 에메랄드 그린(골프), 스톤/웜 그레이(배경), 레드(경고/지출).
- **분위기**: 전문적이면서도 친근하게.
- **컴포넌트**: 카드형 UI, 하단 내비게이션 바.
